# WS / WAS

>WS(Web Server)와 WAS(Web Application Server)의 특징에 대해 알아보고 차이점 및 관련 기술 스택에 대해 알아보도록 하자.

<br>

### Static / Danamic Pages

웹 서버와 와스에 대해 알아보기 전에 웹 페이지에 대해 먼저 알아보도록 해보자.

웹 페이지는 주변 기술의 발전과 많은 사람들의 관심으로 많은 성장을 해왔다.
이전의 웹 페이지는 정적인(정해진) 내용들만 전달해주는 페이지들만 있었다면, 현재에서는 사용자의 행동 그리고 정보의 따라 변하는 동적인 웹 페이지들이 대다수이다.
그렇다고 정적인 웹 페이지가 완전 사용이 안되는 것은 아니다.

다음으로는 정적/동적 페이지 특징에 대해 알아보자.

![](https://gmlwjd9405.github.io/images/web/static-vs-dynamic.png)

<t><t><t>출처 : [[Web] Web Server와 WAS의 차이와 웹 서비스 구조](https://gmlwjd9405.github.io/2018/10/27/webserver-vs-was.html)

* 정적 페이지
  * 항상 동일한 페이지를 반환
  * 파일 경로의 이름을 받아 일치하는 컨텐츠를 반환
  * 이미지, HTML, CSS, Javascript 와 같은 파일들
* 동적 페이지
  * 사용자가 입력한 내용이나 취한 행동에 알맞게 동적인 컨텐츠를 반환
  * 서버에서 실행되는 프로그램에 의해 만들어진 결과물을 반환
  * 개발자는 해당 프로그램을 구현

우리는 이러한 정적 페이지를 서빙하는 서버를 `Web Server`라고 부르며 동적 페이지를 서빙하는 서버를 `Web Application Server` 줄여서 `WAS`라고 한다.

<br>

### Web Server

 웹 서버는 두가지의 의미로 사용되는데

1. 웹 브라우저와 같은 클라이언트로부터 HTTP 요청을 받아들이고, HTML 문서(정적인 컨텐츠)와 같은 웹 페이지를 반환하는 프로그램(소프트웨어)
2. 1번의 기능을 제공하는 프로그램을 실행하는 컴퓨터(하드웨어)

위와 같은 의미를 가지고 있다.

#### 웹 서버의 기능

웹 서버는 HTTP 프로토콜을 기반으로 하여 클라이언트의 요청을 서비스 하는 기능을 가지고 있다.

이러한 웹 서버는 크게 2가지의 일을하고 있다.

* 사용자가 정적인 컨텐츠만 요청을 한다면 곧바로 요청을 제공
* 만약 동적인 컨텐츠를 요청한다면 WAS에게 그 요청을 보내고 WAS에게 받은 응답을 클라이언트에게 전달

즉, 웹 서버는 혼자 사용될 수 있으며 WAS와 같이 사용 될 수 있다.

이러한 웹 서버는 대표적으로 `Apache Server`와 `NginX`등이 존재한다.

<br>

### WAS(Web Application Server)

WAS는 웹 어플리케이션과 서버 환경을 만들어 동작시키는 기능을 제공하는 소프트웨어 프레임워크이다.
즉, HTTP를 통해 사용자 컴퓨터나 장치에 어플리케이션을 수행하는 미들웨어로 볼 수 있다.
WAS는 동적 페이지를 서빙하는 것으로 사용되며, 주로 데이터베이스(DB) 서버와 같이 수행된다.

#### WAS의 주요 기능

WAS의 주요 기능은 다음과 같다.

* 프로그램 실행 환경과 DB 접속 기능을 제공
* 여러개의 트랜잭션 관리
* 비지니스 로직 수행

WAS의 경우, 정확한 정의가 존재하지 않아 일부 기능이 존재하지 않거나 더 추가된 기능을 제공하는 서버도 존재한다.

#### WAS의 역할

WAS는 `Web server + Web Container`라고 할 수 있다.
Web server의 경우 위에서 언급을 하였는데 `Web Container`는 처음 들어보았을 수 도 있다.

`Web Container`는 `Servlet Container`라고 불리우는데, 이는 JSP, Servlet을 실행시킬 수 있는 소프트웨어를 말한다.
즉, WAS는 JSP, Servlet(동적 데이터를 생성하는 로직)의 구동 환경을 제공한다.

이러한 WAS는 Web server의 기능도 가지고 있지만, 여러가지 이유로 나뉘어서 사용되는데 다음 절에서 자세히 알아보도록 하자.

이러한 WAS에는 Tomcat, JBoss, Jeus 등이 존재한다.

<br>

### Web Server  + WAS

앞절에서 WAS는 Web Server의 기능을 가지고 있지만, 분리되어 사용된다고 하였다.
왜 그런것일까? 한번 알아보도록 해보자.

* 서버 부하 방지

  > WAS의 경우, 동적인 컨텐츠를 생성하기 위해 여러 무거운 작업들을 수행할 수 있다.
  >
  > 단순히 정적 파일만 서빙하는 것도 WAS에게 맡긴다면 많은 부하가 일어날 수 있으며, 평상시에는 빠르게 받을 수 있는 정적 파일도 부하가 많을 때에는 느리게 응답을 받을 수도 있다.
  >
  > 따라서 기능을 분리하여 좀더 빠르고 부담을 줄일 수 있는 서빙을 할 수 있게끔한다.

* 보안 강화

  > Web Server에 SSL 암호화 처리를 맡겨 보안 강화를 할 수 있다.
  >
  > 또한, WAS에 중요한 연결 설정이 있을 수도 있으므로 앞단에 Web Server를 두어 숨김으로써 접근하기 어렵게 만들 수 도 있다.

* 효율적인 운영

  > Web sever에서 로드 밸런싱 기능을 사용하여 트래픽을 분산 시킬 수 있다.
  >
  > 여러 대의 WAS를 사용하여 fail over(장애 극복)와 fail back 처리에 유리하며 무중단 운영이 가능하다.

이와 같은 이점으로 Web Server를 WAS 앞단에 위치하여 좀 더 효율적인 인프라를 구성할 수 있다.

<br>

<br>

<br>

### Reference

* [[Web] Web Server와 WAS의 차이와 웹 서비스 구조](https://gmlwjd9405.github.io/2018/10/27/webserver-vs-was.html)
* [웹 서버와 WAS( Web Application Server ) 차이](https://victorydntmd.tistory.com/121)
* [WAS - 위키백과](https://ko.wikipedia.org/wiki/웹_애플리케이션_서버)
* [Web server - 위키백과](https://ko.wikipedia.org/wiki/웹_서버)

